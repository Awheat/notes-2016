$(function(){var e=function(e){return mylang={input_name_null:"请输入姓名",input_name_length:"请输入小于{0}位的姓名",input_name_error:"请输入正确的姓名",input_tel_null:"请输入手机号",input_tel_length:"请输入11的位手机号",input_tel_error:"请输入正确的手机号",input_creditcode_null:"请输入证件号码",input_creditcode_length:"请输入小于{0}位的证件号码",input_creditcode_error:"请输入正确的证件号码",input_area_null:"请选择地区",input_address_null:"请输入地址",input_phone_error:"请输入正确的手机号码",input_phone_null:"请输入手机号码",input_email_null:"请输入邮箱",input_email_error:"请输入正确的邮箱","":""},mylang[e]},r=function(e,r){var t=$(".jconfirm");t.length<=0&&$.dialog({title:e,content:r,closeIcon:!1,backgroundDismiss:!0,theme:"black"})},t=function(e){var r=e.replace(/(^\s*)|(\s*$)/g,"");return r.replace(/\s/g,"")},n=function(e,r){$(r).attr("aria-required");return"undefined"==typeof Obj&&""==e?!0:void 0};$.validator.setDefaults({submitHandler:function(){form.submit()},errorPlacement:function(e,t){r("",e[0].innerHTML)}}),$("#newcusForm").validate({rules:{name:{required:!0,rangelength:[2,5],isName:!0},tel:{required:!0,rangelength:[11,11],isTel:!0},credit_code:{required:!1,isCreditCode:!0},area:{required:!1,isArea:!0},address:{required:!1,isAddress:!0}},submitHandler:function(e){$(e).attr("data-flag","true")},messages:{name:{required:e("input_name_null"),rangelength:jQuery.validator.format("请输入{0}至{1}个中文字符")},tel:{required:e("input_tel_null"),rangelength:e("input_tel_length")}},onkeyup:!1,onfocusout:!1}),$.validator.addMethod("isName",function(e,r){console.log($(r).attr("aria-required"));var n=new RegExp("^[一-龥]{2,5}$");return r.value=t(e),n.test(t(e))},"请输入2至5位中文字符"),$.validator.addMethod("isTel",function(e,r){var t=new RegExp("^1[3|4|5|7|8][0-9]\\d{8}$");return t.test(e)},"请输入11位有效的手机号"),$.validator.addMethod("isCreditCode",function(e,r){if(console.log(r),console.log(n(e,r)),n(e,r))return!0;var t=$("#credit_type").find("option:selected").html();return console.log("证件类型："+t),"身份证"==t?i.creditIdCode(e):"护照"==t?i.passportCode(e):void 0},"请输入有效的证件号");var i={creditIdCode:function(e){var r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],n=[1,0,10,9,8,7,6,5,4,3,2],i=t(e);if(18!=i.length)return!1;var a=i.split(""),o=0;"x"==a[17].toLowerCase()&&(a[17]=10);for(var u=0;17>u;u++)o+=r[u]*a[u];if(valCodePosition=o%11,a[17]==n[valCodePosition]){var l=i.substring(6,10),d=new Date;return d=d.getFullYear(),!(d-l>=120)}return!1},passportCode:function(e){var r=new RegExp("^[a-zA-Z][0-9.]{7,9}$");return r.test(t(e))}};$.validator.addMethod("isArea",function(e,r){if(n(e,r))return!0;var t=new RegExp("^[一-龥s]{2,15}$");return t.test(e)},"请选择有效的地区"),$.validator.addMethod("isAddress",function(e,r){if(n(e,r))return!0;var t=new RegExp("^(?=.*?[一-龥])[dA-Za-z一-龥]+");return t.test(e)},"请输入有效的地址")});